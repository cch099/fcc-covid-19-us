import{S as t,i as a,s,e,a as r,t as n,c as o,b as c,d as l,f as i,g as h,h as f,j as u,k as v,l as d,m,n as $,o as p,p as E,r as g,q as D,u as T,v as y,w as S,x as N,y as I,z as _,A as w,B as C,C as B,D as O,E as V,F as x,G as H,H as b,I as U,J as P}from"./client.377fc3a7.js";import{r as A,C as L,a as j}from"./Table.8043e775.js";function k(t){let a,s,D,T,y,S,N,I,_,w,C,B,O,V,x,H,b,U,P;return{c(){a=e("div"),s=e("div"),D=e("div"),T=e("div"),y=e("input"),S=r(),N=e("div"),I=e("div"),_=e("select"),w=e("option"),C=n("By State Name"),B=e("option"),O=n("Cases"),V=e("option"),x=n("Death"),H=e("option"),b=n("Tested"),this.h()},l(t){a=o(t,"DIV",{class:!0});var e=c(a);s=o(e,"DIV",{class:!0});var r=c(s);D=o(r,"DIV",{class:!0});var n=c(D);T=o(n,"DIV",{class:!0});var f=c(T);y=o(f,"INPUT",{type:!0,class:!0,placeholder:!0}),f.forEach(l),S=i(n),N=o(n,"DIV",{class:!0});var u=c(N);I=o(u,"DIV",{class:!0});var v=c(I);_=o(v,"SELECT",{class:!0});var d=c(_);w=o(d,"OPTION",{value:!0});var m=c(w);C=h(m,"By State Name"),m.forEach(l),B=o(d,"OPTION",{value:!0});var $=c(B);O=h($,"Cases"),$.forEach(l),V=o(d,"OPTION",{value:!0});var p=c(V);x=h(p,"Death"),p.forEach(l),H=o(d,"OPTION",{value:!0});var E=c(H);b=h(E,"Tested"),E.forEach(l),d.forEach(l),v.forEach(l),u.forEach(l),n.forEach(l),r.forEach(l),e.forEach(l),this.h()},h(){f(y,"type","text"),f(y,"class","input svelte-1s6my76"),f(y,"placeholder","Filter States"),f(T,"class","column is-6 svelte-1s6my76"),w.__value="name",w.value=w.__value,B.__value="cases",B.value=B.__value,V.__value="deaths",V.value=V.__value,H.__value="tested",H.value=H.__value,f(_,"class","svelte-1s6my76"),void 0===t[1]&&u((()=>t[3].call(_))),f(I,"class","select svelte-1s6my76"),f(N,"class","column is-6 svelte-1s6my76"),f(D,"class","columns"),f(s,"class","container"),f(a,"class","section")},m(e,r){v(e,a,r),d(a,s),d(s,D),d(D,T),d(T,y),m(y,t[0]),d(D,S),d(D,N),d(N,I),d(I,_),d(_,w),d(w,C),d(_,B),d(B,O),d(_,V),d(V,x),d(_,H),d(H,b),$(_,t[1]),U||(P=[p(y,"input",t[2]),p(_,"change",t[3])],U=!0)},p(t,[a]){1&a&&y.value!==t[0]&&m(y,t[0]),2&a&&$(_,t[1])},i:E,o:E,d(t){t&&l(a),U=!1,g(P)}}}function q(t,a,s){let{stateName:e=""}=a,{sortBy:r="name"}=a;return t.$$set=t=>{"stateName"in t&&s(0,e=t.stateName),"sortBy"in t&&s(1,r=t.sortBy)},[e,r,function(){e=this.value,s(0,e)},function(){r=D(this),s(1,r)}]}class F extends t{constructor(t){super(),a(this,t,q,k,s,{stateName:0,sortBy:1})}}function R(t,a,s){const e=t.slice();return e[1]=a[s],e}function z(t,a){let s,u,m,$,p,E,g,D,y,S,N,I,_,w,C,B=a[1].fullStateName+"",O=a[1].cases+"",V=a[1].deaths+"",x=a[1].tested+"";return{key:t,first:null,c(){s=e("tr"),u=e("td"),m=e("a"),$=n(B),E=r(),g=e("td"),D=n(O),y=r(),S=e("td"),N=n(V),I=r(),_=e("td"),w=n(x),C=r(),this.h()},l(t){s=o(t,"TR",{});var a=c(s);u=o(a,"TD",{});var e=c(u);m=o(e,"A",{href:!0});var r=c(m);$=h(r,B),r.forEach(l),e.forEach(l),E=i(a),g=o(a,"TD",{});var n=c(g);D=h(n,O),n.forEach(l),y=i(a),S=o(a,"TD",{});var f=c(S);N=h(f,V),f.forEach(l),I=i(a),_=o(a,"TD",{});var v=c(_);w=h(v,x),v.forEach(l),C=i(a),a.forEach(l),this.h()},h(){f(m,"href",p=a[1].state),this.first=s},m(t,a){v(t,s,a),d(s,u),d(u,m),d(m,$),d(s,E),d(s,g),d(g,D),d(s,y),d(s,S),d(S,N),d(s,I),d(s,_),d(_,w),d(s,C)},p(t,s){a=t,1&s&&B!==(B=a[1].fullStateName+"")&&T($,B),1&s&&p!==(p=a[1].state)&&f(m,"href",p),1&s&&O!==(O=a[1].cases+"")&&T(D,O),1&s&&V!==(V=a[1].deaths+"")&&T(N,V),1&s&&x!==(x=a[1].tested+"")&&T(w,x)},d(t){t&&l(s)}}}function G(t){let a,s,u,m,$,p,g,D,T,N,I,_,w,C,B,O,V,x,H=[],b=new Map,U=t[0];const P=t=>t[1].state;for(let a=0;a<U.length;a+=1){let s=R(t,U,a),e=P(s);b.set(e,H[a]=z(e,s))}return{c(){a=e("div"),s=e("div"),u=e("table"),m=e("thead"),$=e("tr"),p=e("th"),g=n("State"),D=r(),T=e("th"),N=n("Cases"),I=r(),_=e("th"),w=n("Deaths"),C=r(),B=e("th"),O=n("Total Tested"),V=r(),x=e("tbody");for(let t=0;t<H.length;t+=1)H[t].c();this.h()},l(t){a=o(t,"DIV",{class:!0});var e=c(a);s=o(e,"DIV",{class:!0});var r=c(s);u=o(r,"TABLE",{class:!0});var n=c(u);m=o(n,"THEAD",{});var f=c(m);$=o(f,"TR",{});var v=c($);p=o(v,"TH",{});var d=c(p);g=h(d,"State"),d.forEach(l),D=i(v),T=o(v,"TH",{});var E=c(T);N=h(E,"Cases"),E.forEach(l),I=i(v),_=o(v,"TH",{});var y=c(_);w=h(y,"Deaths"),y.forEach(l),C=i(v),B=o(v,"TH",{});var S=c(B);O=h(S,"Total Tested"),S.forEach(l),v.forEach(l),f.forEach(l),V=i(n),x=o(n,"TBODY",{});var b=c(x);for(let t=0;t<H.length;t+=1)H[t].l(b);b.forEach(l),n.forEach(l),r.forEach(l),e.forEach(l),this.h()},h(){f(u,"class","table is-bordered is-striped svelte-1mhw9g6"),f(s,"class","container"),f(a,"class","section svelte-1mhw9g6")},m(t,e){v(t,a,e),d(a,s),d(s,u),d(u,m),d(m,$),d($,p),d(p,g),d($,D),d($,T),d(T,N),d($,I),d($,_),d(_,w),d($,C),d($,B),d(B,O),d(u,V),d(u,x);for(let t=0;t<H.length;t+=1)H[t].m(x,null)},p(t,[a]){1&a&&(U=t[0],H=y(H,a,P,1,t,U,b,x,S,z,null,R))},i:E,o:E,d(t){t&&l(a);for(let t=0;t<H.length;t+=1)H[t].d()}}}function J(t,a,s){let{states:e}=a;return t.$$set=t=>{"states"in t&&s(0,e=t.states)},[e]}class M extends t{constructor(t){super(),a(this,t,J,G,s,{states:0})}}function Y(t){let a,s,e,n,o,c;function h(a){t[4](a)}function f(a){t[5](a)}let u={};return void 0!==t[1]&&(u.stateName=t[1]),void 0!==t[0]&&(u.sortBy=t[0]),a=new F({props:u}),N.push((()=>I(a,"stateName",h))),N.push((()=>I(a,"sortBy",f))),o=new M({props:{states:t[2]}}),{c(){_(a.$$.fragment),n=r(),_(o.$$.fragment)},l(t){w(a.$$.fragment,t),n=i(t),w(o.$$.fragment,t)},m(t,s){C(a,t,s),v(t,n,s),C(o,t,s),c=!0},p(t,[r]){const n={};!s&&2&r&&(s=!0,n.stateName=t[1],B((()=>s=!1))),!e&&1&r&&(e=!0,n.sortBy=t[0],B((()=>e=!1))),a.$set(n);const c={};4&r&&(c.states=t[2]),o.$set(c)},i(t){c||(O(a.$$.fragment,t),O(o.$$.fragment,t),c=!0)},o(t){V(a.$$.fragment,t),V(o.$$.fragment,t),c=!1},d(t){x(a,t),t&&l(n),x(o,t)}}}function K(t,a,s){let e,{data:r}=a,n="name",o="";return t.$$set=t=>{"data"in t&&s(3,r=t.data)},t.$$.update=()=>{11&t.$$.dirty&&s(2,e=function(t,a,s){const e=t.filter((t=>""===a||t.fullStateName.toLowerCase().indexOf(a.toLowerCase())>-1));return"name"!==s?e.sort(((t,a)=>+a[s].replace(",","")-+t[s].replace(",",""))):e}(r,o,n))},[n,o,e,r,function(t){o=t,s(1,o)},function(t){n=t,s(0,n)}]}class Q extends t{constructor(t){super(),a(this,t,K,Y,s,{data:3})}}function W(t){let a,s,u,m,$,p,E,g,D,T,y,S;const N=[t[0]];let I={};for(let t=0;t<N.length;t+=1)I=H(I,N[t]);return E=new L({props:I}),D=new j({props:{historicData:t[1],title:"US Covid-19"}}),y=new Q({props:{data:t[2]}}),{c(){a=r(),s=e("div"),u=e("div"),m=e("h1"),$=n("Covid 19 - US"),p=r(),_(E.$$.fragment),g=r(),_(D.$$.fragment),T=r(),_(y.$$.fragment),this.h()},l(t){b('[data-svelte="svelte-q8t81e"]',document.head).forEach(l),a=i(t),s=o(t,"DIV",{class:!0});var e=c(s);u=o(e,"DIV",{class:!0});var r=c(u);m=o(r,"H1",{});var n=c(m);$=h(n,"Covid 19 - US"),n.forEach(l),r.forEach(l),e.forEach(l),p=i(t),w(E.$$.fragment,t),g=i(t),w(D.$$.fragment,t),T=i(t),w(y.$$.fragment,t),this.h()},h(){document.title="Covid 19 US Tracker",f(u,"class","container"),f(s,"class","section header")},m(t,e){v(t,a,e),v(t,s,e),d(s,u),d(u,m),d(m,$),v(t,p,e),C(E,t,e),v(t,g,e),C(D,t,e),v(t,T,e),C(y,t,e),S=!0},p(t,[a]){const s=1&a?U(N,[P(t[0])]):{};E.$set(s);const e={};2&a&&(e.historicData=t[1]),D.$set(e);const r={};4&a&&(r.data=t[2]),y.$set(r)},i(t){S||(O(E.$$.fragment,t),O(D.$$.fragment,t),O(y.$$.fragment,t),S=!0)},o(t){V(E.$$.fragment,t),V(D.$$.fragment,t),V(y.$$.fragment,t),S=!1},d(t){t&&l(a),t&&l(s),t&&l(p),x(E,t),t&&l(g),x(D,t),t&&l(T),x(y,t)}}}async function X(){try{const t=await A.usStats(),a=await A.historicUS();return{usStats:t,historic:a,statesData:await A.statesData()}}catch(t){return void this.error(500,"There was an error in calling the api, please try again in 5 minutes.")}}function Z(t,a,s){let{usStats:e}=a,{historic:r}=a,{statesData:n}=a;return t.$$set=t=>{"usStats"in t&&s(0,e=t.usStats),"historic"in t&&s(1,r=t.historic),"statesData"in t&&s(2,n=t.statesData)},[e,r,n]}export default class extends t{constructor(t){super(),a(this,t,Z,W,s,{usStats:0,historic:1,statesData:2})}}export{X as preload};
