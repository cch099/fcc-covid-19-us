import{S as t,i as e,s,e as a,a as n,b as r,c as i,d as o,f as l,g as c,h as u,l as d,n as f,j as h,r as m,k as $,t as p,m as v,u as g,o as y,p as S,q as _,v as C,w,x,y as D,z as N,A as j,B,C as k,D as b}from"./client.198e2d62.js";import{r as T,C as L,a as U}from"./CovidChart.bc9b89a7.js";function M(t){let e,s,$,p,v,g,y,S,_,C,w,x,D,N,j;return{c(){e=a("div"),s=a("div"),$=a("div"),p=a("div"),v=a("input"),g=n(),y=a("div"),S=a("div"),_=a("select"),C=a("option"),C.textContent="By State Name",w=a("option"),w.textContent="Cases",x=a("option"),x.textContent="Death",D=a("option"),D.textContent="Tested",r(v,"type","text"),r(v,"class","input svelte-10mkjoi"),r(v,"placeholder","Filter States"),r(p,"class","column is-6 svelte-10mkjoi"),C.__value="name",C.value=C.__value,w.__value="cases",w.value=w.__value,x.__value="deaths",x.value=x.__value,D.__value="tested",D.value=D.__value,r(_,"class","svelte-10mkjoi"),void 0===t[1]&&i((()=>t[3].call(_))),r(S,"class","select svelte-10mkjoi"),r(y,"class","column is-6 svelte-10mkjoi"),r($,"class","columns"),r(s,"class","container"),r(e,"class","section")},m(a,n){o(a,e,n),l(e,s),l(s,$),l($,p),l(p,v),c(v,t[0]),l($,g),l($,y),l(y,S),l(S,_),l(_,C),l(_,w),l(_,x),l(_,D),u(_,t[1]),N||(j=[d(v,"input",t[2]),d(_,"change",t[3])],N=!0)},p(t,[e]){1&e&&v.value!==t[0]&&c(v,t[0]),2&e&&u(_,t[1])},i:f,o:f,d(t){t&&h(e),N=!1,m(j)}}}function H(t,e,s){let{stateName:a=""}=e,{sortBy:n="name"}=e;return t.$$set=t=>{"stateName"in t&&s(0,a=t.stateName),"sortBy"in t&&s(1,n=t.sortBy)},[a,n,function(){a=this.value,s(0,a)},function(){n=$(this),s(1,n)}]}class q extends t{constructor(t){super(),e(this,t,H,M,s,{stateName:0,sortBy:1})}}function z(t,e,s){const a=t.slice();return a[1]=e[s],a}function A(t,e){let s,i,c,u,d,f,m,$,g,y,S,_,C,w,x,D=e[1].fullStateName+"",N=e[1].cases+"",j=e[1].deaths+"",B=e[1].tested+"";return{key:t,first:null,c(){s=a("tr"),i=a("td"),c=a("a"),u=p(D),f=n(),m=a("td"),$=p(N),g=n(),y=a("td"),S=p(j),_=n(),C=a("td"),w=p(B),x=n(),r(c,"rel","prefetch"),r(c,"href",d=e[1].state),this.first=s},m(t,e){o(t,s,e),l(s,i),l(i,c),l(c,u),l(s,f),l(s,m),l(m,$),l(s,g),l(s,y),l(y,S),l(s,_),l(s,C),l(C,w),l(s,x)},p(t,s){e=t,1&s&&D!==(D=e[1].fullStateName+"")&&v(u,D),1&s&&d!==(d=e[1].state)&&r(c,"href",d),1&s&&N!==(N=e[1].cases+"")&&v($,N),1&s&&j!==(j=e[1].deaths+"")&&v(S,j),1&s&&B!==(B=e[1].tested+"")&&v(w,B)},d(t){t&&h(s)}}}function F(t){let e,s,i,c,u,d,m=[],$=new Map,p=t[0];const v=t=>t[1].state;for(let e=0;e<p.length;e+=1){let s=z(t,p,e),a=v(s);$.set(a,m[e]=A(a,s))}return{c(){e=a("div"),s=a("div"),i=a("table"),c=a("thead"),c.innerHTML="<tr><th>State</th> \n          <th>Cases</th> \n          <th>Deaths</th> \n          <th>Total Tested</th></tr>",u=n(),d=a("tbody");for(let t=0;t<m.length;t+=1)m[t].c();r(i,"class","table is-bordered is-striped svelte-18jy5hy"),r(s,"class","container"),r(e,"class","section svelte-18jy5hy")},m(t,a){o(t,e,a),l(e,s),l(s,i),l(i,c),l(i,u),l(i,d);for(let t=0;t<m.length;t+=1)m[t].m(d,null)},p(t,[e]){1&e&&(p=t[0],m=g(m,e,v,1,t,p,$,d,y,A,null,z))},i:f,o:f,d(t){t&&h(e);for(let t=0;t<m.length;t+=1)m[t].d()}}}function O(t,e,s){let{states:a}=e;return t.$$set=t=>{"states"in t&&s(0,a=t.states)},[a]}class E extends t{constructor(t){super(),e(this,t,O,F,s,{states:0})}}function G(t){let e,s,a,r,i,l;function c(e){t[4](e)}function u(e){t[5](e)}let d={};return void 0!==t[1]&&(d.stateName=t[1]),void 0!==t[0]&&(d.sortBy=t[0]),e=new q({props:d}),S.push((()=>_(e,"stateName",c))),S.push((()=>_(e,"sortBy",u))),i=new E({props:{states:t[2]}}),{c(){C(e.$$.fragment),r=n(),C(i.$$.fragment)},m(t,s){w(e,t,s),o(t,r,s),w(i,t,s),l=!0},p(t,[n]){const r={};!s&&2&n&&(s=!0,r.stateName=t[1],x((()=>s=!1))),!a&&1&n&&(a=!0,r.sortBy=t[0],x((()=>a=!1))),e.$set(r);const o={};4&n&&(o.states=t[2]),i.$set(o)},i(t){l||(D(e.$$.fragment,t),D(i.$$.fragment,t),l=!0)},o(t){N(e.$$.fragment,t),N(i.$$.fragment,t),l=!1},d(t){j(e,t),t&&h(r),j(i,t)}}}function I(t,e,s){let a,{data:n}=e,r="name",i="";return t.$$set=t=>{"data"in t&&s(3,n=t.data)},t.$$.update=()=>{11&t.$$.dirty&&s(2,a=function(t,e,s){const a=t.filter((t=>""===e||t.fullStateName.toLowerCase().indexOf(e.toLowerCase())>-1));return"name"!==s?a.sort(((t,e)=>+e[s].replace(",","")-+t[s].replace(",",""))):a}(n,i,r))},[r,i,a,n,function(t){i=t,s(1,i)},function(t){r=t,s(0,r)}]}class J extends t{constructor(t){super(),e(this,t,I,G,s,{data:3})}}function K(t){let e,s,i,l,c,u,d,f,m;const $=[t[0]];let p={};for(let t=0;t<$.length;t+=1)p=B(p,$[t]);return l=new L({props:p}),u=new U({props:{historicData:t[1],title:"US Covid-19"}}),f=new J({props:{data:t[2]}}),{c(){e=n(),s=a("div"),s.innerHTML='<div class="container"><h1>Covid 19 - US</h1></div>',i=n(),C(l.$$.fragment),c=n(),C(u.$$.fragment),d=n(),C(f.$$.fragment),document.title="Covid 19 US Tracker",r(s,"class","section header")},m(t,a){o(t,e,a),o(t,s,a),o(t,i,a),w(l,t,a),o(t,c,a),w(u,t,a),o(t,d,a),w(f,t,a),m=!0},p(t,[e]){const s=1&e?k($,[b(t[0])]):{};l.$set(s);const a={};2&e&&(a.historicData=t[1]),u.$set(a);const n={};4&e&&(n.data=t[2]),f.$set(n)},i(t){m||(D(l.$$.fragment,t),D(u.$$.fragment,t),D(f.$$.fragment,t),m=!0)},o(t){N(l.$$.fragment,t),N(u.$$.fragment,t),N(f.$$.fragment,t),m=!1},d(t){t&&h(e),t&&h(s),t&&h(i),j(l,t),t&&h(c),j(u,t),t&&h(d),j(f,t)}}}async function P(){try{const t=await T.usStats(),e=await T.historicUS();return{usStats:t,historic:e,statesData:await T.statesData()}}catch(t){return void this.error(500,"There was an error in calling the api, please try again in 5 minutes.")}}function Q(t,e,s){let{usStats:a}=e,{historic:n}=e,{statesData:r}=e;return t.$$set=t=>{"usStats"in t&&s(0,a=t.usStats),"historic"in t&&s(1,n=t.historic),"statesData"in t&&s(2,r=t.statesData)},[a,n,r]}export default class extends t{constructor(t){super(),e(this,t,Q,K,s,{usStats:0,historic:1,statesData:2})}}export{P as preload};
